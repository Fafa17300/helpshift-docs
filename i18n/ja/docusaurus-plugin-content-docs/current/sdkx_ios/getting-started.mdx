---
sidebar_position: 10
title: はじめに
description: 以下の簡単な手順に従うことで、今すぐにHelpshiftのアプリ内サポートをiOSアプリに追加することができます。
---

import {
  Admonition,
  CodeBlock,
  Tabs,
  TabItem,
  LatestSdkVersion,
  Centered,
  Image,
  Intro,
  SideBySide,
  DownloadButton,
  Steps,
  Step,
} from "@site/src/components/forDocs";

# はじめに {#getting-started}

<Intro>{frontMatter.description}</Intro>

## 要件 {#version-requirements}

- Xcode 12.0 以上
- CocoaPods v1.10.0
- サポートされている iOS バージョン:
- iOS 13 以上
- Helpshift SDK の iOS サポートポリシーの詳細については、[こちらの記事](https://support.helpshift.com/hc/en/13-helpshift-technical-support/faq/1217-sdk-x-os-technical-support-policy/)を参照してください。

## CocoaPods を使用した自動統合 {#cocoapods}

プロジェクトで SDK X `v[% sdkx_ios.sdk_version  %]`の使用を開始するには、次の行を`Podfile`に追加します。

```ruby
pod 'HelpshiftX', '[% sdkx_ios.sdk_version  %]'
```

そして、`pod install`または`pod update`を実行して[CocoaPods](https://cocoapods.org/)の依存関係を更新します。

これで、「[アプリ内で Helpshift を初期化する](#initializing)」に進むことができます。

## Swift Package Manager を使用した自動統合 {#spm}

SPM プロジェクトで Helpshift `v[% sdkx_ios.sdk_version  %]`を使用するには、プロジェクトの「パッケージの依存関係」セクションに以下のパッケージ URL を追加します

```text
https://github.com/helpshift/HelpshiftX
```

バージョンのルールについては「Exact」または「Up to Next Minor」のいずれかを使用し、Helpshift SDK X のメジャーバージョンがリリースされるタイミングでバージョン番号を手動で更新することをお勧めします。

これで、「[アプリ内で Helpshift を初期化する](#initializing)」に進むことができます。

## 手動での統合 {#manual-integration}

### 最新の SDK の zip ファイルを入手する {#getting-sdk}

最新の Helpshift iOS SDK をダウンロードします。

<DownloadButton
  text="Download SDK"
  link="[% sdkx_ios.sdk_url %]"
  classes="mb-4"
/>

この zip ファイルには、以下のものが含まれています。

<div className="text-sm compact ">

|                        |                                              |
| ---------------------- | -------------------------------------------- |
| HelpshiftX.xcframework | HelpshiftX のフレームワークです              |
| NOTICE.txt             | サードパーティ製コードのライセンス情報です。 |

</div>

<Admonition type="info" title="注意">

#### SDK X の非ビットコードビルド

Apple が Xcode 14 からビットコードを非推奨としたため、SDK X のビルドには 10.3.0 のリリース以降ビットコードは含まれていません。

</Admonition>

### 最新の安定版 SDK リリースをプロジェクトに追加する {#add-to-project}

- SDK を解凍し、Xcode プロジェクトに`HelpshiftX.xcframework`をドラッグ・アンド・ドロップします
- アプリのターゲットの`General`セクションで、`HelpshiftX.xcframework`が`Framework, Libraries, and Embedded Content`セクション
  内に存在し、オプションの"Embed"ドロップダウンで`Embed and Sign`オプションが選択されていることを確認します。
  &nbsp;&nbsp; <Image src="/static/books/sdkx_ios/embed_and_sign_framework.png"  width="full" />
- 統合に成功すると、`Build Phases`は以下のようになります。
  &nbsp;&nbsp; <Image src="/static/books/sdkx_ios/integration_screenshot.png"  width="full" />

<Admonition type="info" title="注意">

#### アプリケーションの Info.plist ファイルに`NSPhotoLibraryUsageDescription`キーを追加する

もしもアプリがこのアクセス許可を使用しない場合には、このキーと説明を追加する必要があります。このキーと説明のペアを追加していない場合、アプリがリジェクトされてしまう可能性があります。

**NSPhotoLibraryUsageDescription の説明テキストは、次の通りです。**「このアプリは、ヘルプやサポートを目的として、添付ファイルとして送信する画像をユーザーが手動で選択できるようにするために、写真ライブラリにアクセスする必要があります。」

</Admonition>

<Admonition type="info" title="注意">

以下の説明は、**SDK X 10.2.0**以下のバージョンにのみ適用されます。

#### （前述した）`NSPhotoLibraryUsageDescription`とともに、アプリケーションの Info.plist ファイルに`NSCameraUsageDescription`キーと`NSMicrophoneUsageDescription`キーも追加する

もしもアプリがこのアクセス許可を使用しない場合には、これらのキーと説明を追加する必要があります。これらのキーと説明のペアを追加していない場合、アプリがリジェクトされてしまう可能性があります。

**NSCameraUsageDescription の説明テキストは、次の通りです。**「このアプリは、ヘルプやサポートを目的として、添付ファイルとして送信される画像をユーザーがクリックできるようにするために、カメラにアクセスする必要があります。」

**NSMicrophoneUsageDescription の説明テキストは、次の通りです。**「このアプリは、ヘルプやサポートを目的として、添付ファイルとして送信される動画をユーザーが撮影して送信できるようにするために、マイクにアクセスする必要があります。」

これらはあくまでも説明の提案であることにご注意ください。同様のローカライズが必要な場合には、<a href="https://support.helpshift.com/kb/contact/" target="_blank">お問い合わせ</a>ください。

</Admonition>

## Helpshift の使用を開始する {#start-using}

これで Helpshift がアプリに統合され、ユーザーに関する有意義なデータを収集する準備が整いました。

### アプリで Helpshift を初期化する {#initializing}

1. 最初に、Helpshift ダッシュボードでアプリを作成します

   <Image src="/static/books/helpshiftx/add_app.png" width="full" />{" "}

2. 選択した`Platform`に**iOS**を指定してアプリを作成します
   <Image src="/static/books/sdkx_ios/select_platform.png" width="full" />{" "}

Helpshift は、登録済みの各種アプリを以下の 2 つのトークンの組み合わせ
を用いて一意に識別します。

<div className=" compact">

|               |                                                                                                 |
| ------------- | ----------------------------------------------------------------------------------------------- |
| `Platform ID` | アプリ固有のプラットフォーム ID（ダッシュボード上のアプリの`App Id`がプラットフォーム ID です） |
| `Domain Name` | これがあなたの Helpshift ドメイン名です。例: _happyapps.helpshift.com_                          |

</div>

これらの値を取得するには、以下の手順に従ってください。

1. 自身の Helpshift ダッシュボードにアクセスする
2. `Settings`、`SDKs (for Developers)`の順に移動する
3. ドロップダウンから目的のアプリを選択する
4. 「iOS」テーブルに記載されている 2 つのトークンをコピーする

<Image src="/static/books/sdkx_ios/copy_keys.png" width="full" />{" "}

`installWithPlatformId:`メソッドを呼び出して SDK を初期化します。

オプションで構成辞書を`installWithPlatformId:` API に渡すことも可能です。サポートされている構成を確認するには、「[SDK の構成](/sdkx_ios/sdk-configuration.mdx)」ページをご確認ください。

<Tabs>

<TabItem value="Using Objective-C" label="Objective-Cの場合">

```objc
@import HelpshiftX;
...
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    ...
    NSDictionary *config = @{} // Your config
    [Helpshift installWithPlatformId:@"YOUR_APP_ID"
                              domain:@"YOUR_DOMAIN"
                              config:config];
    ...
    return YES;
}
```

</TabItem>
<TabItem value="Using Swift" label="Swiftの場合">

```swift
import HelpshiftX
...
    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {
        ...
        let config = [String:String]() // Your config
        Helpshift.install(withPlatformId: "YOUR_PLATFORM_ID", domain: "YOUR_DOMAIN", config: config)
        ...
        return true
    }
...
```

</TabItem>

</Tabs>

#### 中国向けのアプリで Helpshift を初期化する {#chinasupport}

中国リージョン向けに Helphift SDK を統合するには、特別なインストール設定キーである`isForChina`を使用する必要があります。
この設定キーはブーリアン値を受け入れます。中国リージョン向けのアプリで SDK を統合する場合には、`true`を渡してください。指定がない場合のデフォルト値は、`false`です。

AppDelegate クラスに、以下のコードを追加してください。

<Tabs>

<TabItem value="Using Objective-C" label="Objective-Cの場合">

```objc
@import HelpshiftX;
...
- (BOOL) application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    ...
    NSDictionary *config = @{
        ...
        @"isForChina" : @YES,
        ...
    };
    [Helpshift installWithPlatformId:@"YOUR_PLATFORM_ID" domain:@"YOUR_DOMAIN" config:config];
    ...
    return YES;
}
```

</TabItem>
<TabItem value="Using Swift" label="Swiftの場合">

```swift
import HelpshiftX
...
    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey : Any]? = nil) -> Bool {
        ...
        let config = [
            ...
            "isForChina": true
            ...
        ]
        Helpshift.install(withPlatformId: "YOUR_PLATFORM_ID", domain: "YOUR_DOMAIN", config: config)
        ...
        return true
    }
...
```

</TabItem>

</Tabs>

<Admonition type="danger" title="重要">

**インストール呼び出しの配置**

インストール呼び出しは、`application:didFinishLaunchingWithOptions:`以外の場所には配置しないでください
これを他の場所に配置すると、実行時の予期せぬ問題が引き起こされてしまう可能性があります。
SDK キーの検証に失敗した場合、Helpshift のインストール呼び出しは`InstallException`をスローします。

</Admonition>
